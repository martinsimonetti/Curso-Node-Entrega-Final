<h1>Lista de Productos</h1>

<!-- Filtro -->
<form action="/products" method="get">
    <label for="category">Categoría:</label>
    <input type="text" name="query" id="category" placeholder="Categoría" value="{{query}}">

    <label for="status">Estado:</label>
    <input type="radio" name="status" id="available" value="true" {{#if (eq status 'true')}}checked{{/if}}>
    <label for="available">Disponible</label>
    <input type="radio" name="status" id="not-available" value="false" {{#if (eq status 'false')}}checked{{/if}}>
    <label for="not-available">No disponible</label>
    <input type="radio" name="status" id="any" value="any" {{#if (eq status 'any')}}checked{{/if}}>
    <label for="any">Cualquiera</label>

    <button type="submit">Filtrar</button>
</form>

{{#if isValid}}
<div>
    {{#each payload}}
    <div>
        <form action="/carts/67008c4dd97cfd689eac3e6c/product/{{this._id}}" method="post">
            <h2>{{this.title}}</h2>
            <p><strong>Descripción:</strong> {{this.description}}</p>
            <p><strong>Código:</strong> {{this.code}}</p>
            <p><strong>Precio:</strong> ${{this.price}}</p>
            <p><strong>Stock:</strong> {{this.stock}}</p>
            <p><strong>Categoría:</strong> {{this.category}}</p>
            <input type="submit" value="Agregar al carrito">
        </form>
        <hr>
    </div>
    {{/each}}
</div>
<br />

<div>
    {{#if hasPrevPage}}
    <a href="{{this.prevLink}}"><< Anterior</a>
    {{/if}}
    &nbsp;
    Página {{this.page}} de {{this.totalPages}}
    &nbsp;
    {{#if hasNextPage}}
    <a href="{{this.nextLink}}">Siguiente >></a>
    {{/if}}
</div>
{{else}}
<h1>No hay productos para mostrar</h1>
{{/if}}




